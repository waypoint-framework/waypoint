{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.waypoint.dev/targeting_parameters.schema.json",
  "title": "Targeting Parameters Schema",
  "description": "Comprehensive audience targeting parameters for marketing campaigns across all channels",
  "type": "object",
  "properties": {
    "audience_segments": {
      "type": "array",
      "description": "Primary audience segments to target",
      "items": {
        "type": "object",
        "properties": {
          "segment_id": {
            "type": "string",
            "description": "Unique identifier for the audience segment"
          },
          "segment_name": {
            "type": "string",
            "description": "Human-readable name for the segment"
          },
          "priority": {
            "type": "string",
            "enum": ["primary", "secondary", "tertiary"],
            "description": "Priority level for this audience segment"
          },
          "estimated_size": {
            "type": "number",
            "description": "Estimated reachable audience size"
          },
          "demographics": {
            "type": "object",
            "properties": {
              "age_ranges": {
                "type": "array",
                "items": {
                  "type": "string",
                  "pattern": "^(\\d{1,2}-\\d{1,2}|\\d{1,2}\\+)$"
                },
                "description": "Target age ranges (e.g., '18-25', '35+')"
              },
              "gender": {
                "type": "array",
                "items": {
                  "type": "string",
                  "enum": ["male", "female", "non-binary", "all"]
                },
                "description": "Target gender demographics"
              },
              "income_levels": {
                "type": "array",
                "items": {
                  "type": "string",
                  "enum": ["low", "lower_middle", "middle", "upper_middle", "high", "luxury"]
                },
                "description": "Target income brackets"
              },
              "education_levels": {
                "type": "array",
                "items": {
                  "type": "string",
                  "enum": ["high_school", "some_college", "bachelors", "masters", "doctorate", "trade_school"]
                },
                "description": "Target education levels"
              },
              "occupation": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Target job titles or industries"
              },
              "marital_status": {
                "type": "array",
                "items": {
                  "type": "string",
                  "enum": ["single", "married", "divorced", "widowed", "domestic_partnership"]
                },
                "description": "Target marital status"
              },
              "parental_status": {
                "type": "array",
                "items": {
                  "type": "string",
                  "enum": ["parent", "non_parent", "expecting", "grandparent"]
                },
                "description": "Parental status targeting"
              }
            },
            "required": ["age_ranges", "gender"]
          },
          "geographic_targeting": {
            "type": "object",
            "properties": {
              "countries": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Target countries using ISO country codes"
              },
              "regions": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Target regions or states"
              },
              "cities": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Target specific cities"
              },
              "zip_codes": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Target specific ZIP/postal codes"
              },
              "radius_targeting": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "center": {"type": "string"},
                    "radius_miles": {"type": "number"},
                    "radius_km": {"type": "number"}
                  },
                  "required": ["center", "radius_miles"]
                },
                "description": "Geographic radius targeting around specific points"
              },
              "excluded_locations": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Locations to exclude from targeting"
              }
            },
            "required": ["countries"]
          },
          "psychographic_targeting": {
            "type": "object",
            "properties": {
              "interests": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Hobbies, interests, and activities"
              },
              "lifestyle": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Lifestyle characteristics and preferences"
              },
              "values": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Core values and beliefs"
              },
              "personality_traits": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Personality characteristics"
              },
              "attitudes": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Attitudes toward various topics"
              }
            },
            "required": ["interests"]
          },
          "behavioral_targeting": {
            "type": "object",
            "properties": {
              "purchase_behavior": {
                "type": "array",
                "items": {
                  "type": "string",
                  "enum": ["frequent_buyer", "occasional_buyer", "first_time_buyer", "lapsed_customer", "high_value_customer"]
                },
                "description": "Shopping and purchasing patterns"
              },
              "online_behavior": {
                "type": "array",
                "items": {
                  "type": "string",
                  "enum": ["early_adopter", "tech_savvy", "mobile_first", "desktop_user", "social_media_active"]
                },
                "description": "Online behavior patterns"
              },
              "device_usage": {
                "type": "array",
                "items": {
                  "type": "string",
                  "enum": ["mobile", "desktop", "tablet", "smart_tv", "gaming_console"]
                },
                "description": "Preferred devices and platforms"
              },
              "content_consumption": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Types of content they consume"
              },
              "brand_affinity": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Brands they prefer or engage with"
              }
            }
          },
          "custom_audiences": {
            "type": "object",
            "properties": {
              "lookalike_audiences": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Lookalike audience sources"
              },
              "retargeting_lists": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Retargeting audience lists"
              },
              "email_lists": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Email subscriber lists"
              },
              "website_visitors": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Website visitor segments"
              },
              "app_users": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Mobile app user segments"
              }
            },
            "description": "Custom audience targeting options"
          },
          "seasonal_factors": {
            "type": "object",
            "properties": {
              "peak_seasons": {
                "type": "array",
                "items": {"type": "string"},
                "description": "High-activity seasons for this audience"
              },
              "seasonal_interests": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Season-specific interests and activities"
              },
              "holiday_preferences": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Holidays and events they celebrate"
              }
            },
            "description": "Seasonal targeting considerations"
          },
          "exclusions": {
            "type": "object",
            "properties": {
              "demographic_exclusions": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Demographic groups to exclude"
              },
              "geographic_exclusions": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Geographic areas to exclude"
              },
              "behavioral_exclusions": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Behavioral patterns to exclude"
              },
              "audience_exclusions": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Specific audience lists to exclude"
              }
            },
            "description": "Audience exclusions and negative targeting"
          },
          "targeting_rationale": {
            "type": "string",
            "description": "Explanation of why this audience segment was selected"
          },
          "estimated_performance": {
            "type": "object",
            "properties": {
              "expected_ctr": {"type": "number"},
              "expected_cpc": {"type": "number"},
              "expected_conversion_rate": {"type": "number"},
              "confidence_level": {
                "type": "string",
                "enum": ["high", "medium", "low"]
              }
            },
            "description": "Expected performance metrics for this segment"
          }
        },
        "required": ["segment_id", "segment_name", "priority", "demographics", "geographic_targeting", "psychographic_targeting"]
      }
    },
    "cross_channel_targeting": {
      "type": "object",
      "description": "How targeting parameters vary across different marketing channels",
      "properties": {
        "channel_specific_targeting": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "audience_segments": {"type": "array", "items": {"type": "string"}},
              "custom_parameters": {"type": "object"},
              "exclusions": {"type": "array", "items": {"type": "string"}}
            }
          },
          "description": "Channel-specific targeting adjustments"
        },
        "frequency_capping": {
          "type": "object",
          "properties": {
            "impressions_per_user": {"type": "number"},
            "impressions_per_day": {"type": "number"},
            "impressions_per_week": {"type": "number"},
            "impressions_per_month": {"type": "number"}
          },
          "description": "Frequency limits across all channels"
        },
        "sequential_targeting": {
          "type": "object",
          "properties": {
            "enabled": {"type": "boolean"},
            "sequence_order": {"type": "array", "items": {"type": "string"}},
            "timing_rules": {"type": "object"}
          },
          "description": "Sequential messaging across channels"
        }
      }
    },
    "targeting_optimization": {
      "type": "object",
      "description": "Settings for optimizing targeting performance",
      "properties": {
        "auto_optimization": {
          "type": "boolean",
          "description": "Whether to enable automatic targeting optimization"
        },
        "optimization_goals": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["reach", "engagement", "conversions", "roas", "brand_awareness"]
          },
          "description": "What to optimize targeting for"
        },
        "test_plans": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "test_name": {"type": "string"},
              "test_type": {"type": "string"},
              "variables": {"type": "array", "items": {"type": "string"}},
              "success_metrics": {"type": "array", "items": {"type": "string"}}
            }
          },
          "description": "A/B testing plans for targeting parameters"
        },
        "performance_thresholds": {
          "type": "object",
          "properties": {
            "minimum_impressions": {"type": "number"},
            "minimum_clicks": {"type": "number"},
            "maximum_cpc": {"type": "number"},
            "minimum_conversion_rate": {"type": "number"}
          },
          "description": "Performance thresholds for targeting decisions"
        }
      }
    },
    "compliance_and_privacy": {
      "type": "object",
      "description": "Privacy and compliance considerations for targeting",
      "properties": {
        "gdpr_compliance": {
          "type": "boolean",
          "description": "Whether targeting complies with GDPR requirements"
        },
        "ccpa_compliance": {
          "type": "boolean",
          "description": "Whether targeting complies with CCPA requirements"
        },
        "data_sources": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["first_party", "second_party", "third_party", "public_data"]
          },
          "description": "Sources of targeting data"
        },
        "consent_requirements": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Required user consents for targeting"
        },
        "data_retention": {
          "type": "object",
          "properties": {
            "retention_period": {"type": "string"},
            "deletion_policy": {"type": "string"}
          },
          "description": "Data retention and deletion policies"
        }
      },
      "required": ["gdpr_compliance", "data_sources"]
    }
  },
  "required": ["audience_segments", "cross_channel_targeting", "compliance_and_privacy"]
} 