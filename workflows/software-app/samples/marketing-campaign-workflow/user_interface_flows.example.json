{
  "interfaceType": "web_ui",
  "flows": [
    {
      "id": "campaign_creation_flow",
      "name": "Campaign Creation Wizard",
      "description": "Step-by-step interface flow for creating a new marketing campaign",
      "userExperienceScenario": "small_business_first_campaign",
      "interfaceContext": {
        "platform": "Web Browser",
        "deviceType": "Desktop/Laptop",
        "screenSize": "1366x768 minimum, responsive up to 2560x1440",
        "inputMethods": ["mouse", "keyboard"],
        "connectionState": "online",
        "userState": "authenticated with basic plan subscription"
      },
      "entryPoint": {
        "trigger": "User clicks 'Create New Campaign' button from dashboard",
        "location": "Main dashboard, primary action area",
        "prerequisites": ["User account set up", "At least one brand configured", "Payment method on file"],
        "deepLink": "/campaigns/create"
      },
      "steps": [
        {
          "stepNumber": 1,
          "action": "click",
          "target": {
            "elementType": "button",
            "identifier": "[data-testid='create-campaign-btn']",
            "label": "Create New Campaign",
            "location": "Top right of dashboard",
            "state": "enabled, visible"
          },
          "input": null,
          "systemResponse": {
            "immediateResponse": "Button shows loading state with spinner",
            "loadingState": "Page transition animation, 300ms fade",
            "successResponse": "Campaign creation wizard opens on step 1",
            "errorResponse": "Error toast appears if user has reached plan limits",
            "dataChanges": "New draft campaign object created in database",
            "navigationChanges": "URL changes to /campaigns/create?step=1"
          },
          "accessibilityActions": [
            {
              "method": "keyboard",
              "instruction": "Tab to button and press Enter or Space",
              "keySequence": "Tab, Enter"
            },
            {
              "method": "screen_reader",
              "instruction": "Button announced as 'Create New Campaign, button'"
            }
          ],
          "timing": {
            "timeout": "30 seconds for page load",
            "animation": "300ms transition"
          }
        },
        {
          "stepNumber": 2,
          "action": "type",
          "target": {
            "elementType": "input",
            "identifier": "#campaign-goal-input",
            "label": "What do you want to achieve with this campaign?",
            "location": "Center of wizard step 1",
            "state": "focused, empty"
          },
          "input": {
            "inputType": "text",
            "value": "Promote new yoga classes at my fitness studio",
            "validation": "Minimum 10 characters, maximum 500 characters",
            "format": "Plain text, no special formatting"
          },
          "systemResponse": {
            "immediateResponse": "Character count shows live feedback (45/500)",
            "loadingState": "AI analysis indicator appears after 2 seconds of typing pause",
            "successResponse": "AI suggestions appear below input after analysis",
            "errorResponse": "Validation error if text too short/long",
            "dataChanges": "Campaign goal saved to draft",
            "navigationChanges": "None"
          },
          "accessibilityActions": [
            {
              "method": "screen_reader",
              "instruction": "Field announced with label and character count"
            }
          ],
          "timing": {
            "debounce": "500ms before AI analysis starts",
            "timeout": "10 seconds for AI response"
          },
          "conditions": [
            {
              "condition": "Text length >= 10 characters",
              "trueAction": "Enable 'Continue' button",
              "falseAction": "Keep 'Continue' button disabled"
            }
          ]
        },
        {
          "stepNumber": 3,
          "action": "click",
          "target": {
            "elementType": "button",
            "identifier": "[data-testid='audience-option-existing-plus-local']",
            "label": "Existing customers + Local prospects",
            "location": "Audience selection grid, middle option",
            "state": "enabled, unselected"
          },
          "input": null,
          "systemResponse": {
            "immediateResponse": "Button changes to selected state with checkmark",
            "loadingState": "None",
            "successResponse": "Audience description expands below selection",
            "errorResponse": "None expected",
            "dataChanges": "Audience preference saved to campaign draft",
            "navigationChanges": "None"
          },
          "accessibilityActions": [
            {
              "method": "keyboard",
              "instruction": "Use arrow keys to navigate options, Space to select",
              "keySequence": "Arrow keys, Space"
            }
          ],
          "variants": [
            {
              "variantName": "Mobile view",
              "condition": "Screen width < 768px",
              "differences": "Options stack vertically instead of grid layout"
            }
          ]
        },
        {
          "stepNumber": 4,
          "action": "click",
          "target": {
            "elementType": "button",
            "identifier": "[data-testid='generate-campaign-btn']",
            "label": "Generate My Campaign",
            "location": "Bottom right of wizard step 3",
            "state": "enabled, prominent"
          },
          "input": null,
          "systemResponse": {
            "immediateResponse": "Button shows loading spinner",
            "loadingState": "Progress indicator shows AI generation steps",
            "successResponse": "Campaign preview screen loads with generated content",
            "errorResponse": "Error message if AI generation fails",
            "dataChanges": "AI-generated campaign content saved to draft",
            "navigationChanges": "URL changes to /campaigns/create?step=4"
          },
          "accessibilityActions": [
            {
              "method": "screen_reader",
              "instruction": "Button announced with loading state changes"
            }
          ],
          "timing": {
            "timeout": "45 seconds for AI generation",
            "animation": "Progress steps animate over 15-30 seconds"
          }
        },
        {
          "stepNumber": 5,
          "action": "scroll",
          "target": {
            "elementType": "content",
            "identifier": "[data-testid='campaign-preview-content']",
            "label": "Generated campaign content preview",
            "location": "Main content area",
            "state": "visible, scrollable"
          },
          "input": null,
          "systemResponse": {
            "immediateResponse": "Content scrolls smoothly",
            "loadingState": "Lazy loading for images as they come into view",
            "successResponse": "All content sections visible as user scrolls",
            "errorResponse": "Image loading errors show placeholder",
            "dataChanges": "User engagement tracked (scroll depth)",
            "navigationChanges": "None"
          },
          "accessibilityActions": [
            {
              "method": "keyboard",
              "instruction": "Use arrow keys or Page Up/Down to scroll",
              "keySequence": "Arrow keys, Page Up/Down"
            }
          ]
        },
        {
          "stepNumber": 6,
          "action": "click",
          "target": {
            "elementType": "button",
            "identifier": "[data-testid='approve-campaign-btn']",
            "label": "Launch This Campaign",
            "location": "Fixed footer action bar",
            "state": "enabled, prominent green button"
          },
          "input": null,
          "systemResponse": {
            "immediateResponse": "Confirmation modal appears",
            "loadingState": "None",
            "successResponse": "Modal shows campaign summary and launch options",
            "errorResponse": "Error if required integrations not connected",
            "dataChanges": "Campaign status changed to 'pending_launch'",
            "navigationChanges": "Modal overlay appears"
          },
          "accessibilityActions": [
            {
              "method": "keyboard",
              "instruction": "Tab to button and press Enter",
              "keySequence": "Tab, Enter"
            }
          ]
        },
        {
          "stepNumber": 7,
          "action": "click",
          "target": {
            "elementType": "button",
            "identifier": "[data-testid='confirm-launch-btn']",
            "label": "Yes, Launch Now",
            "location": "Confirmation modal footer",
            "state": "enabled, requires second confirmation"
          },
          "input": null,
          "systemResponse": {
            "immediateResponse": "Button shows loading state",
            "loadingState": "Progress indicator for publishing to platforms",
            "successResponse": "Success message and redirect to campaign dashboard",
            "errorResponse": "Error details if publishing fails to any platform",
            "dataChanges": "Campaign status changed to 'active', published to platforms",
            "navigationChanges": "Redirect to /campaigns/{campaign-id}"
          },
          "timing": {
            "timeout": "2 minutes for multi-platform publishing"
          }
        }
      ],
      "exitPoints": [
        {
          "type": "success",
          "trigger": "Campaign successfully launched",
          "destination": "/campaigns/{campaign-id}/dashboard",
          "dataState": "Campaign active and publishing",
          "message": "Campaign launched successfully! Track performance on your dashboard."
        },
        {
          "type": "cancel",
          "trigger": "User clicks 'Save as Draft' or closes wizard",
          "destination": "/campaigns?filter=drafts",
          "dataState": "Campaign saved as draft",
          "message": "Campaign saved as draft. You can continue editing anytime."
        },
        {
          "type": "error",
          "trigger": "AI generation fails or platform publishing fails",
          "destination": "/campaigns/create?step=error",
          "dataState": "Campaign in error state",
          "message": "Something went wrong. Our team has been notified and will help resolve this."
        }
      ],
      "errorHandling": [
        {
          "errorType": "AI Generation Timeout",
          "trigger": "AI takes longer than 45 seconds to generate content",
          "detection": "Timeout monitoring in generation API",
          "userMessage": "Content generation is taking longer than usual. You can wait or try again with different inputs.",
          "recoveryAction": "Offer to retry with simplified inputs or use template approach",
          "systemAction": "Log error, alert engineering team",
          "fallbackFlow": "Switch to template-based campaign creation"
        },
        {
          "errorType": "Social Media API Failure",
          "trigger": "Facebook/Instagram API returns error during publishing",
          "detection": "API response error codes",
          "userMessage": "Unable to publish to social media. Your campaign content is ready for manual posting.",
          "recoveryAction": "Provide content for manual posting with instructions",
          "systemAction": "Retry API calls, escalate if persistent",
          "fallbackFlow": "Continue with other platforms, provide manual posting guide"
        },
        {
          "errorType": "Payment Method Declined",
          "trigger": "User's payment method fails during campaign launch",
          "detection": "Stripe webhook notification",
          "userMessage": "Payment method declined. Please update your billing information to launch campaign.",
          "recoveryAction": "Redirect to billing page, save campaign progress",
          "systemAction": "Pause campaign launch, send billing notification",
          "fallbackFlow": "Hold campaign in 'pending_payment' state"
        }
      ],
      "stateManagement": {
        "persistedData": ["User account", "Brand settings", "Campaign drafts", "Payment methods"],
        "sessionData": ["Current wizard step", "Form inputs", "AI generation cache"],
        "temporaryData": ["Upload progress", "API loading states", "Form validation states"],
        "caching": "Campaign drafts auto-save every 30 seconds",
        "synchronization": "Real-time sync for collaborative editing"
      },
      "performance": {
        "loadTime": "< 1 second for wizard step transitions",
        "responseTime": "< 500ms for form interactions, < 30 seconds for AI generation",
        "dataUsage": "~2MB for full wizard including generated images",
        "batterUsage": "Minimal - no continuous polling or heavy animations",
        "optimizations": ["Image lazy loading", "Progressive form validation", "Chunked AI generation"]
      },
      "testing": {
        "automationIds": ["create-campaign-btn", "campaign-goal-input", "generate-campaign-btn", "approve-campaign-btn"],
        "keyScenarios": ["Happy path campaign creation", "AI generation failure", "Payment failure", "Form validation"],
        "edgeCases": ["Network interruption during generation", "Browser refresh mid-wizard", "Maximum character limits"],
        "browserCompatibility": ["Chrome 100+", "Firefox 100+", "Safari 15+", "Edge 100+"]
      },
      "analytics": [
        {
          "eventName": "campaign_creation_started",
          "trigger": "User clicks Create New Campaign",
          "properties": ["user_id", "subscription_plan", "timestamp"],
          "purpose": "Track conversion funnel and user engagement"
        },
        {
          "eventName": "ai_generation_completed",
          "trigger": "AI successfully generates campaign content",
          "properties": ["user_id", "generation_time", "content_types", "quality_score"],
          "purpose": "Monitor AI performance and user satisfaction"
        },
        {
          "eventName": "campaign_launched",
          "trigger": "User confirms campaign launch",
          "properties": ["user_id", "campaign_id", "platforms", "budget", "time_to_create"],
          "purpose": "Measure feature success and user efficiency"
        }
      ]
    },
    {
      "id": "brand_voice_setup_flow",
      "name": "Brand Voice Configuration Interface",
      "description": "Interface flow for setting up AI brand voice training",
      "userExperienceScenario": "marketing_manager_brand_setup",
      "interfaceContext": {
        "platform": "Web Browser",
        "deviceType": "Desktop",
        "screenSize": "1920x1080 recommended for file upload interface",
        "inputMethods": ["mouse", "keyboard", "drag_drop"],
        "connectionState": "online",
        "userState": "authenticated admin user"
      },
      "entryPoint": {
        "trigger": "User navigates to Brand Settings from main navigation",
        "location": "Settings > Brand Voice",
        "prerequisites": ["Admin permissions", "Brand account created"],
        "deepLink": "/settings/brand-voice"
      },
      "steps": [
        {
          "stepNumber": 1,
          "action": "drag",
          "target": {
            "elementType": "dropzone",
            "identifier": "[data-testid='brand-docs-dropzone']",
            "label": "Drop brand guidelines and sample content here",
            "location": "Center of brand setup page",
            "state": "ready for file drop"
          },
          "input": {
            "inputType": "file",
            "value": "Multiple PDF, DOCX files containing brand guidelines",
            "validation": "Max 10 files, 50MB total, PDF/DOCX formats only",
            "format": "Drag and drop or click to browse"
          },
          "systemResponse": {
            "immediateResponse": "Files show upload progress bars",
            "loadingState": "File processing indicator with estimated time",
            "successResponse": "Files listed with green checkmarks",
            "errorResponse": "Error messages for unsupported files or size limits",
            "dataChanges": "Files uploaded to secure storage",
            "navigationChanges": "Upload summary appears below dropzone"
          },
          "accessibilityActions": [
            {
              "method": "keyboard",
              "instruction": "Tab to dropzone, press Enter to open file browser",
              "keySequence": "Tab, Enter"
            },
            {
              "method": "screen_reader",
              "instruction": "Dropzone announced with file format requirements"
            }
          ],
          "timing": {
            "timeout": "5 minutes for file uploads"
          }
        },
        {
          "stepNumber": 2,
          "action": "click",
          "target": {
            "elementType": "button",
            "identifier": "[data-testid='analyze-brand-voice-btn']",
            "label": "Analyze Brand Voice",
            "location": "Below file upload area",
            "state": "enabled after successful file upload"
          },
          "input": null,
          "systemResponse": {
            "immediateResponse": "Button shows processing state",
            "loadingState": "AI analysis progress indicator, 2-5 minutes",
            "successResponse": "Brand voice analysis results displayed",
            "errorResponse": "Error if files can't be processed",
            "dataChanges": "Brand voice parameters extracted and stored",
            "navigationChanges": "Analysis results section expands"
          },
          "timing": {
            "timeout": "10 minutes for AI analysis"
          }
        },
        {
          "stepNumber": 3,
          "action": "adjust",
          "target": {
            "elementType": "slider",
            "identifier": "[data-testid='formality-slider']",
            "label": "Formality Level",
            "location": "Brand voice parameters section",
            "state": "set to AI-detected value"
          },
          "input": {
            "inputType": "number",
            "value": "7 (on scale of 1-10)",
            "validation": "Integer between 1-10",
            "format": "Slider with numeric input"
          },
          "systemResponse": {
            "immediateResponse": "Slider position updates, sample text changes",
            "loadingState": "Brief loading while sample regenerates",
            "successResponse": "Updated sample text reflects new formality level",
            "errorResponse": "None expected for valid range",
            "dataChanges": "Brand voice parameter updated",
            "navigationChanges": "Sample text updates in real-time"
          },
          "accessibilityActions": [
            {
              "method": "keyboard",
              "instruction": "Tab to slider, use arrow keys to adjust",
              "keySequence": "Tab, Left/Right arrows"
            }
          ]
        },
        {
          "stepNumber": 4,
          "action": "click",
          "target": {
            "elementType": "button",
            "identifier": "[data-testid='test-brand-voice-btn']",
            "label": "Test Brand Voice",
            "location": "Brand voice configuration section",
            "state": "enabled after parameter adjustment"
          },
          "input": null,
          "systemResponse": {
            "immediateResponse": "Test content generation modal opens",
            "loadingState": "AI generating test content",
            "successResponse": "Sample content displayed for review",
            "errorResponse": "Error if generation fails",
            "dataChanges": "Test content generated but not saved",
            "navigationChanges": "Modal overlay with test results"
          }
        },
        {
          "stepNumber": 5,
          "action": "click",
          "target": {
            "elementType": "button",
            "identifier": "[data-testid='save-brand-voice-btn']",
            "label": "Save Brand Voice Settings",
            "location": "Modal footer",
            "state": "enabled after reviewing test content"
          },
          "input": null,
          "systemResponse": {
            "immediateResponse": "Save confirmation animation",
            "loadingState": "Brief save indicator",
            "successResponse": "Success message and modal closes",
            "errorResponse": "Error if save fails",
            "dataChanges": "Brand voice settings saved to user account",
            "navigationChanges": "Return to brand settings overview"
          }
        }
      ],
      "exitPoints": [
        {
          "type": "success",
          "trigger": "Brand voice successfully configured",
          "destination": "/settings/brand-voice?status=configured",
          "dataState": "Brand voice ready for content generation",
          "message": "Brand voice configured! Your team can now generate on-brand content."
        },
        {
          "type": "cancel",
          "trigger": "User exits without saving",
          "destination": "/settings/brand-voice",
          "dataState": "No changes saved",
          "message": "Brand voice setup cancelled. No changes were saved."
        }
      ],
      "errorHandling": [
        {
          "errorType": "File Processing Error",
          "trigger": "Unable to extract text from uploaded documents",
          "detection": "Document parsing API errors",
          "userMessage": "Unable to process some files. Please ensure documents contain readable text.",
          "recoveryAction": "Allow user to upload alternative files",
          "systemAction": "Log file processing errors for improvement",
          "fallbackFlow": "Proceed with successfully processed files"
        }
      ]
    }
  ],
  "sharedComponents": [
    {
      "componentId": "progress-wizard",
      "componentType": "navigation",
      "description": "Multi-step wizard with progress indicator",
      "behavior": "Shows current step, completed steps, and remaining steps",
      "props": ["currentStep", "totalSteps", "stepLabels", "allowBackNavigation"],
      "states": ["current", "completed", "pending", "error"],
      "events": ["stepChange", "stepComplete", "wizardComplete"]
    },
    {
      "componentId": "ai-loading-indicator",
      "componentType": "feedback",
      "description": "Animated indicator for AI processing with progress steps",
      "behavior": "Shows AI generation progress with descriptive steps",
      "props": ["currentTask", "estimatedTime", "allowCancel"],
      "states": ["analyzing", "generating", "reviewing", "complete", "error"],
      "events": ["taskUpdate", "progressUpdate", "complete", "cancel"]
    },
    {
      "componentId": "brand-consistency-score",
      "componentType": "display",
      "description": "Visual indicator of content brand alignment",
      "behavior": "Shows percentage score with color coding and explanations",
      "props": ["score", "threshold", "showDetails", "editable"],
      "states": ["excellent", "good", "needs_improvement", "poor"],
      "events": ["scoreUpdate", "detailsView", "manualOverride"]
    }
  ],
  "designSystem": {
    "colorPalette": [
      "#2563EB (Primary Blue)",
      "#10B981 (Success Green)", 
      "#F59E0B (Warning Amber)",
      "#EF4444 (Error Red)",
      "#6B7280 (Neutral Gray)",
      "#F9FAFB (Background Light)"
    ],
    "typography": [
      "Inter (Primary font)",
      "JetBrains Mono (Code/technical content)",
      "Font sizes: 12px, 14px, 16px, 20px, 24px, 32px"
    ],
    "spacing": ["4px", "8px", "12px", "16px", "24px", "32px", "48px", "64px"],
    "breakpoints": ["640px (sm)", "768px (md)", "1024px (lg)", "1280px (xl)", "1536px (2xl)"],
    "interactionPatterns": [
      "Hover states for all interactive elements",
      "Loading states for async operations",
      "Clear focus indicators for keyboard navigation",
      "Consistent button sizing and spacing"
    ],
    "animationGuidelines": "Subtle transitions (200-300ms), purposeful loading animations, respect prefers-reduced-motion"
  }
}